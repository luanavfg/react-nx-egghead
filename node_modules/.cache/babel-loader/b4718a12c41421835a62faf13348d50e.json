{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { useEffect, useState } from 'react';\nimport './app.scss';\nimport { Header } from '@nxegghead/store/ui-shared';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { formatRating } from '@nxegghead/store/util-formatters';\nimport { Route, useHistory } from 'react-router-dom';\nimport { StoreFeatureGameDetail } from '@nxegghead/store/feature-game-detail';\nexport const App = () => {\n  const history = useHistory();\n  const [state, setState] = useState({\n    data: [],\n    loadingState: 'success'\n  });\n  useEffect(() => {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      loadingState: 'loading'\n    }));\n    fetch('/api/games').then(x => x.json()).then(res => {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        data: res,\n        loadingState: 'success'\n      }));\n    }).catch(err => {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        loadingState: 'error'\n      }));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"games-layout\"\n  }, state.loadingState === 'loading' ? 'Loading...' : state.loadingState === 'error' ? '<div>Error retrieving data</div>' : state.data.map(x => /*#__PURE__*/React.createElement(Card, {\n    key: x.id,\n    className: \"game-card\",\n    onClick: () => history.push(`/game/${x.id}`)\n  }, /*#__PURE__*/React.createElement(CardActionArea, null, /*#__PURE__*/React.createElement(CardMedia, {\n    className: \"game-card-media\",\n    image: x.image,\n    title: x.name\n  }), /*#__PURE__*/React.createElement(CardContent, null, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h2\"\n  }, x.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\"\n  }, x.description), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\",\n    className: \"game-rating\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, \"Rating:\"), \" \", formatRating(x.rating)))))))), /*#__PURE__*/React.createElement(Route, {\n    path: \"/game/:id\",\n    component: StoreFeatureGameDetail\n  }));\n};\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Header","Card","CardActionArea","CardContent","CardMedia","Typography","formatRating","Route","useHistory","StoreFeatureGameDetail","App","history","state","setState","data","loadingState","fetch","then","x","json","res","catch","err","map","id","push","image","name","description","rating"],"sources":["/home/luana.santos/Documentos/GitHub/react-nx-egghead/apps/store/src/app/app.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\n\nimport './app.scss';\nimport { getAllGames } from '../fake-api';\n\nimport { Header } from '@nxegghead/store/ui-shared';\n\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nimport { formatRating } from '@nxegghead/store/util-formatters';\n\nimport { Route, useHistory } from 'react-router-dom';\n\nimport { StoreFeatureGameDetail } from '@nxegghead/store/feature-game-detail';\nimport { Game } from '@nxegghead/api/util-interfaces';\n\nexport const App = () => {\n  const history = useHistory();\n\n  const [state, setState] = useState<{\n    data: Game[];\n    loadingState: 'success' | 'error' | 'loading';\n  }>({\n    data: [],\n    loadingState: 'success',\n  });\n\n  useEffect(() => {\n    setState({\n      ...state,\n      loadingState: 'loading',\n    });\n    fetch('/api/games')\n      .then((x) => x.json())\n      .then((res) => {\n        setState({\n          ...state,\n          data: res,\n          loadingState: 'success',\n        });\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          loadingState: 'error',\n        });\n      });\n  }, []);\n\n  return (\n       <>\n      <Header />\n      <div className=\"container\">\n        <div className=\"games-layout\">\n          {state.loadingState === 'loading'\n            ? 'Loading...'\n            : state.loadingState === 'error'\n            ? '<div>Error retrieving data</div>'\n            : state.data.map((x) => (\n                <Card\n                  key={x.id}\n                  className=\"game-card\"\n                  onClick={() => history.push(`/game/${x.id}`)}\n                >\n                  <CardActionArea>\n                    <CardMedia\n                      className=\"game-card-media\"\n                      image={x.image}\n                      title={x.name}\n                    />\n                    <CardContent>\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                        {x.name}\n                      </Typography>\n                      <Typography\n                        variant=\"body2\"\n                        color=\"textSecondary\"\n                        component=\"p\"\n                      >\n                        {x.description}\n                      </Typography>\n                      <Typography\n                        variant=\"body2\"\n                        color=\"textSecondary\"\n                        component=\"p\"\n                        className=\"game-rating\"\n                      >\n                        <strong>Rating:</strong> {formatRating(x.rating)}\n                      </Typography>\n                    </CardContent>\n                  </CardActionArea>\n                </Card>\n              ))}\n        </div>\n      </div>\n\n      <Route path=\"/game/:id\" component={StoreFeatureGameDetail} />\n    </>\n  );\n};\n\nexport default App;"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAEhD,OAAO,YAAY;AAGnB,SAASC,MAAM,QAAQ,4BAA4B;AAEnD,OAAOC,IAAI,MAAM,wBAAwB;AACzC,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,WAAW,MAAM,+BAA+B;AACvD,OAAOC,SAAS,MAAM,6BAA6B;AACnD,OAAOC,UAAU,MAAM,8BAA8B;AAErD,SAASC,YAAY,QAAQ,kCAAkC;AAE/D,SAASC,KAAK,EAAEC,UAAU,QAAQ,kBAAkB;AAEpD,SAASC,sBAAsB,QAAQ,sCAAsC;AAG7E,OAAO,MAAMC,GAAG,GAAG,MAAM;EACvB,MAAMC,OAAO,GAAGH,UAAU,EAAE;EAE5B,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAG/B;IACDe,IAAI,EAAE,EAAE;IACRC,YAAY,EAAE;EAChB,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACde,QAAQ,iCACHD,KAAK;MACRG,YAAY,EAAE;IAAS,GACvB;IACFC,KAAK,CAAC,YAAY,CAAC,CAChBC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,EAAE,CAAC,CACrBF,IAAI,CAAEG,GAAG,IAAK;MACbP,QAAQ,iCACHD,KAAK;QACRE,IAAI,EAAEM,GAAG;QACTL,YAAY,EAAE;MAAS,GACvB;IACJ,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,IAAK;MACdT,QAAQ,iCACHD,KAAK;QACRG,YAAY,EAAE;MAAO,GACrB;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBACK,uDACD,oBAAC,MAAM,OAAG,eACV;IAAK,SAAS,EAAC;EAAW,gBACxB;IAAK,SAAS,EAAC;EAAc,GAC1BH,KAAK,CAACG,YAAY,KAAK,SAAS,GAC7B,YAAY,GACZH,KAAK,CAACG,YAAY,KAAK,OAAO,GAC9B,kCAAkC,GAClCH,KAAK,CAACE,IAAI,CAACS,GAAG,CAAEL,CAAC,iBACf,oBAAC,IAAI;IACH,GAAG,EAAEA,CAAC,CAACM,EAAG;IACV,SAAS,EAAC,WAAW;IACrB,OAAO,EAAE,MAAMb,OAAO,CAACc,IAAI,CAAE,SAAQP,CAAC,CAACM,EAAG,EAAC;EAAE,gBAE7C,oBAAC,cAAc,qBACb,oBAAC,SAAS;IACR,SAAS,EAAC,iBAAiB;IAC3B,KAAK,EAAEN,CAAC,CAACQ,KAAM;IACf,KAAK,EAAER,CAAC,CAACS;EAAK,EACd,eACF,oBAAC,WAAW,qBACV,oBAAC,UAAU;IAAC,YAAY;IAAC,OAAO,EAAC,IAAI;IAAC,SAAS,EAAC;EAAI,GACjDT,CAAC,CAACS,IAAI,CACI,eACb,oBAAC,UAAU;IACT,OAAO,EAAC,OAAO;IACf,KAAK,EAAC,eAAe;IACrB,SAAS,EAAC;EAAG,GAEZT,CAAC,CAACU,WAAW,CACH,eACb,oBAAC,UAAU;IACT,OAAO,EAAC,OAAO;IACf,KAAK,EAAC,eAAe;IACrB,SAAS,EAAC,GAAG;IACb,SAAS,EAAC;EAAa,gBAEvB,oCAAQ,SAAO,CAAS,KAAC,EAACtB,YAAY,CAACY,CAAC,CAACW,MAAM,CAAC,CACrC,CACD,CACC,CAEpB,CAAC,CACF,CACF,eAEN,oBAAC,KAAK;IAAC,IAAI,EAAC,WAAW;IAAC,SAAS,EAAEpB;EAAuB,EAAG,CAC5D;AAEP,CAAC;AAED,eAAeC,GAAG"},"metadata":{},"sourceType":"module"}