{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { useEffect, useState } from 'react';\nimport './store-feature-game-detail.scss';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport { formatRating } from '@nxegghead/store/util-formatters';\nexport const StoreFeatureGameDetail = props => {\n  const [state, setState] = useState({\n    data: {},\n    loadingState: 'success'\n  });\n  useEffect(() => {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      loadingState: 'loading'\n    }));\n    const gameId = props.match.params.id;\n    fetch(`/api/games/${gameId}`).then(x => x.json()).then(res => {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        data: res,\n        loadingState: 'success'\n      }));\n    }).catch(err => {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        loadingState: 'error'\n      }));\n    });\n  }, [props.match.params.id]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\"\n  }, state.loadingState === 'loading' ? 'Loading...' : state.loadingState === 'error' ? /*#__PURE__*/React.createElement(\"div\", null, \"Error fetching data\") : state.data == null ? '' : /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(CardActionArea, null, /*#__PURE__*/React.createElement(CardMedia, {\n    className: \"game-card-media\",\n    image: state.data.image,\n    title: state.data.name\n  }), /*#__PURE__*/React.createElement(CardContent, null, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\"\n  }, state.data.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\",\n    className: \"game-rating\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, \"Rating:\"), \" \", formatRating(state.data.rating))))));\n};\nexport default StoreFeatureGameDetail;","map":{"version":3,"names":["React","useEffect","useState","Card","CardActionArea","CardContent","Typography","CardMedia","formatRating","StoreFeatureGameDetail","props","state","setState","data","loadingState","gameId","match","params","id","fetch","then","x","json","res","catch","err","image","name","rating"],"sources":["/home/luana.santos/Documentos/GitHub/react-nx-egghead/libs/store/feature-game-detail/src/lib/store-feature-game-detail.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport './store-feature-game-detail.scss';\n\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport { formatRating } from '@nxegghead/store/util-formatters';\n\ntype TParams = { id: string };\n\n/* eslint-disable-next-line */\nexport interface StoreFeatureGameDetailProps\n  extends RouteComponentProps<TParams> {}\n\nexport const StoreFeatureGameDetail = (props: StoreFeatureGameDetailProps) => {\n  const [state, setState] = useState<{\n    data: any;\n    loadingState: 'success' | 'error' | 'loading';\n  }>({\n    data: {},\n    loadingState: 'success',\n  });\n\n  useEffect(() => {\n    setState({\n      ...state,\n      loadingState: 'loading',\n    });\n    const gameId = props.match.params.id;\n    fetch(`/api/games/${gameId}`)\n      .then((x) => x.json())\n      .then((res) => {\n        setState({\n          ...state,\n          data: res,\n          loadingState: 'success',\n        });\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          loadingState: 'error',\n        });\n      });\n  }, [props.match.params.id]);\n\n  return (\n    <div className=\"container\">\n      {state.loadingState === 'loading' ? (\n        'Loading...'\n      ) : state.loadingState === 'error' ? (\n        <div>Error fetching data</div>\n      ) : state.data == null ? (\n        ''\n      ) : (\n        <Card>\n          <CardActionArea>\n            <CardMedia\n              className=\"game-card-media\"\n              image={state.data.image}\n              title={state.data.name}\n            />\n            <CardContent>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {state.data.name}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                component=\"p\"\n                className=\"game-rating\"\n              >\n                <strong>Rating:</strong> {formatRating(state.data.rating)}\n              </Typography>\n            </CardContent>\n          </CardActionArea>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default StoreFeatureGameDetail;"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,OAAO,kCAAkC;AAEzC,OAAOC,IAAI,MAAM,wBAAwB;AACzC,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,WAAW,MAAM,+BAA+B;AACvD,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,SAAS,MAAM,6BAA6B;AACnD,SAASC,YAAY,QAAQ,kCAAkC;AAQ/D,OAAO,MAAMC,sBAAsB,GAAIC,KAAkC,IAAK;EAC5E,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAG/B;IACDW,IAAI,EAAE,CAAC,CAAC;IACRC,YAAY,EAAE;EAChB,CAAC,CAAC;EAEFb,SAAS,CAAC,MAAM;IACdW,QAAQ,iCACHD,KAAK;MACRG,YAAY,EAAE;IAAS,GACvB;IACF,MAAMC,MAAM,GAAGL,KAAK,CAACM,KAAK,CAACC,MAAM,CAACC,EAAE;IACpCC,KAAK,CAAE,cAAaJ,MAAO,EAAC,CAAC,CAC1BK,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,EAAE,CAAC,CACrBF,IAAI,CAAEG,GAAG,IAAK;MACbX,QAAQ,iCACHD,KAAK;QACRE,IAAI,EAAEU,GAAG;QACTT,YAAY,EAAE;MAAS,GACvB;IACJ,CAAC,CAAC,CACDU,KAAK,CAAEC,GAAG,IAAK;MACdb,QAAQ,iCACHD,KAAK;QACRG,YAAY,EAAE;MAAO,GACrB;IACJ,CAAC,CAAC;EACN,CAAC,EAAE,CAACJ,KAAK,CAACM,KAAK,CAACC,MAAM,CAACC,EAAE,CAAC,CAAC;EAE3B,oBACE;IAAK,SAAS,EAAC;EAAW,GACvBP,KAAK,CAACG,YAAY,KAAK,SAAS,GAC/B,YAAY,GACVH,KAAK,CAACG,YAAY,KAAK,OAAO,gBAChC,iCAAK,qBAAmB,CAAM,GAC5BH,KAAK,CAACE,IAAI,IAAI,IAAI,GACpB,EAAE,gBAEF,oBAAC,IAAI,qBACH,oBAAC,cAAc,qBACb,oBAAC,SAAS;IACR,SAAS,EAAC,iBAAiB;IAC3B,KAAK,EAAEF,KAAK,CAACE,IAAI,CAACa,KAAM;IACxB,KAAK,EAAEf,KAAK,CAACE,IAAI,CAACc;EAAK,EACvB,eACF,oBAAC,WAAW,qBACV,oBAAC,UAAU;IAAC,OAAO,EAAC,OAAO;IAAC,KAAK,EAAC,eAAe;IAAC,SAAS,EAAC;EAAG,GAC5DhB,KAAK,CAACE,IAAI,CAACc,IAAI,CACL,eACb,oBAAC,UAAU;IACT,OAAO,EAAC,OAAO;IACf,KAAK,EAAC,eAAe;IACrB,SAAS,EAAC,GAAG;IACb,SAAS,EAAC;EAAa,gBAEvB,oCAAQ,SAAO,CAAS,KAAC,EAACnB,YAAY,CAACG,KAAK,CAACE,IAAI,CAACe,MAAM,CAAC,CAC9C,CACD,CACC,CAEpB,CACG;AAEV,CAAC;AAED,eAAenB,sBAAsB"},"metadata":{},"sourceType":"module"}