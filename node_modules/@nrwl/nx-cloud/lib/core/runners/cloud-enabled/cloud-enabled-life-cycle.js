const a0_0x274b=['skipNxCache','runContext','cache-miss','cacheStatus','keys','getTerminalOutput','code','endTasks','params','startTask','endTask','local-cache','collectTerminalOutput','cleanUpHashDetails','cache','endCommand','project','taskId','CloudEnabledLifeCycle','nodes','Cannot\x20find\x20task\x20','forEach','task','remote-cache-hit','../../../utilities/serializer-overrides','toISOString','defineProperty','obfuscate','remote-cache','status','push','scheduledTasks','terminalOutput','runtime','cacheableOperations','target','../../../utilities/nx-imports','readTaskTerminalOutput','updateStartedTask','local-cache-hit','cacheDirectory','tasks','statuses','hash','../../terminal-output/read-task-terminal-output','scheduleTask','outputObfuscator','indexOf'];(function(_0xa77b2c,_0x274bff){const _0xb63bc3=function(_0x3d287b){while(--_0x3d287b){_0xa77b2c['push'](_0xa77b2c['shift']());}};_0xb63bc3(++_0x274bff);}(a0_0x274b,0x8f));const a0_0xb63b=function(_0xa77b2c,_0x274bff){_0xa77b2c=_0xa77b2c-0x0;let _0xb63bc3=a0_0x274b[_0xa77b2c];return _0xb63bc3;};'use strict';Object[a0_0xb63b('0x1b')](exports,'__esModule',{'value':!![]});exports[a0_0xb63b('0x13')]=void 0x0;const serializer_overrides_1=require(a0_0xb63b('0x19'));const read_task_terminal_output_1=require(a0_0xb63b('0x2d'));const {workspaceRoot}=require(a0_0xb63b('0x25'));class CloudEnabledLifeCycle{constructor(_0x3d42d9,_0x266b02,_0x1fdb3a,_0x21d8f7,_0x36d04a,_0xf94cab,_0x4e6f29){this[a0_0xb63b('0x2')]=_0x3d42d9;this[a0_0xb63b('0x29')]=_0x266b02;this[a0_0xb63b('0x1')]=_0x1fdb3a;this['collectTerminalOutput']=_0x21d8f7;this[a0_0xb63b('0x23')]=_0x36d04a;this[a0_0xb63b('0x2f')]=_0xf94cab;this['tasks']=_0x4e6f29;}[a0_0xb63b('0x2e')](_0x28c49d){this['runContext'][a0_0xb63b('0x20')][a0_0xb63b('0x1f')](_0x28c49d);}[a0_0xb63b('0xa')](_0x1fc8ce){this[a0_0xb63b('0x2a')][a0_0xb63b('0x1f')]({'taskId':_0x1fc8ce['id'],'startTime':new Date()[a0_0xb63b('0x1a')](),'target':_0x1fc8ce[a0_0xb63b('0x24')]['target'],'projectName':_0x1fc8ce[a0_0xb63b('0x24')][a0_0xb63b('0x11')],'hash':_0x1fc8ce['hash'],'hashDetails':this['cleanUpHashDetails'](_0x1fc8ce['hashDetails']),'params':(0x0,serializer_overrides_1['serializeOverrides'])(_0x1fc8ce)});}[a0_0xb63b('0xb')](_0x4c6759,_0x220ed9){let _0x151a63;if(this[a0_0xb63b('0x2')][a0_0xb63b('0x2b')][_0x4c6759[a0_0xb63b('0x2c')]]){_0x151a63=this[a0_0xb63b('0x2')][a0_0xb63b('0x2b')][_0x4c6759['hash']];}else{if(this[a0_0xb63b('0x23')]['indexOf'](_0x4c6759[a0_0xb63b('0x24')][a0_0xb63b('0x24')])>-0x1&&!this[a0_0xb63b('0x1')]){_0x151a63=a0_0xb63b('0x28');}else{_0x151a63=a0_0xb63b('0x3');}}this[a0_0xb63b('0x27')](_0x4c6759,_0x220ed9,_0x151a63);}[a0_0xb63b('0x8')](_0x1cfdb0){for(let _0x221107 of _0x1cfdb0){let _0x1fb41f;const _0x2e2957=_0x221107[a0_0xb63b('0x1e')]===a0_0xb63b('0x1d');const _0x1288ef=_0x221107['status']===a0_0xb63b('0xf');const _0x1bdcd3=_0x221107[a0_0xb63b('0x1e')]===a0_0xb63b('0xc')||_0x221107['status']==='local-cache-kept-existing'||_0x1288ef;if(this['runContext']['statuses'][_0x221107[a0_0xb63b('0x17')][a0_0xb63b('0x2c')]]){_0x1fb41f=this[a0_0xb63b('0x2')][a0_0xb63b('0x2b')][_0x221107[a0_0xb63b('0x17')][a0_0xb63b('0x2c')]];}else if(_0x2e2957){_0x1fb41f=a0_0xb63b('0x18');}else if(_0x1bdcd3){_0x1fb41f=a0_0xb63b('0x28');}else{if(this[a0_0xb63b('0x23')][a0_0xb63b('0x0')](_0x221107[a0_0xb63b('0x17')][a0_0xb63b('0x24')][a0_0xb63b('0x24')])>-0x1&&!this['skipNxCache']){_0x1fb41f=a0_0xb63b('0x28');}else{_0x1fb41f=a0_0xb63b('0x3');}}this[a0_0xb63b('0x27')](_0x221107[a0_0xb63b('0x17')],_0x221107[a0_0xb63b('0x7')],_0x1fb41f);}}[a0_0xb63b('0x10')](){}['updateStartedTask'](_0x2956e9,_0x4a2b76,_0x5dac60){const _0x40153a=this['tasks']['find'](_0x16fc38=>_0x16fc38[a0_0xb63b('0x12')]===_0x2956e9['id']);if(!_0x40153a){throw new Error(a0_0xb63b('0x15')+_0x2956e9['id']);}_0x40153a['endTime']=new Date()[a0_0xb63b('0x1a')]();_0x40153a['status']=_0x4a2b76;_0x40153a[a0_0xb63b('0x9')]=this[a0_0xb63b('0x2f')][a0_0xb63b('0x1c')](_0x40153a[a0_0xb63b('0x9')]);_0x40153a[a0_0xb63b('0x4')]=_0x5dac60;if(this[a0_0xb63b('0xd')]){_0x40153a[a0_0xb63b('0x21')]=this[a0_0xb63b('0x6')](_0x2956e9['hash'],_0x40153a[a0_0xb63b('0x4')],_0x4a2b76);}}[a0_0xb63b('0x6')](_0x5e99e9,_0xcdafe4,_0x46825b){return(0x0,read_task_terminal_output_1[a0_0xb63b('0x26')])(this['cacheDirectory'],this['outputObfuscator'],_0x5e99e9,_0xcdafe4,_0x46825b);}[a0_0xb63b('0xe')](_0x34a131){const _0x55a3ee={};Object[a0_0xb63b('0x5')](_0x34a131['nodes'])['filter'](_0x5372d5=>!_0x5372d5['startsWith']('npm:'))[a0_0xb63b('0x16')](_0x450e09=>{_0x55a3ee[_0x450e09]=_0x34a131[a0_0xb63b('0x14')][_0x450e09];});return{'nodes':_0x55a3ee,'runtime':_0x34a131[a0_0xb63b('0x22')],'implicitDeps':_0x34a131['implicitDeps']};}}exports['CloudEnabledLifeCycle']=CloudEnabledLifeCycle;