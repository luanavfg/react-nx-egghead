const a2_0xdd61=['runContext','axiosException','statuses','Nx\x20Cloud:\x20Cache\x20miss\x20','cacheError','get','remote-cache-hit','map','.\x20Status\x20404.','apply','startRun','done','waitForStoreRequestsToComplete','fileStorage','then','messages','extractErrorMessage','__esModule','api','Nx\x20Cloud:\x20Skipping\x20storing\x20','storeRequests','note','retrieve','../../../utilities/nx-imports','CloudRemoteCache','VERBOSE_LOGGING','cache-miss','storage','hash','next','forEach','../../../utilities/environment','throw','store','value','indexOf','requests','status','put','push','filter','hashUrls','__awaiter','reduce','response','scheduledTasks','defineProperty','NX_CLOUD_DISTRIBUTED_EXECUTION_ID'];(function(_0x165983,_0xdd6125){const _0x4ecbb8=function(_0x2474e7){while(--_0x2474e7){_0x165983['push'](_0x165983['shift']());}};_0x4ecbb8(++_0xdd6125);}(a2_0xdd61,0xc1));const a2_0x4ecb=function(_0x165983,_0xdd6125){_0x165983=_0x165983-0x0;let _0x4ecbb8=a2_0xdd61[_0x165983];return _0x4ecbb8;};'use strict';var __awaiter=this&&this[a2_0x4ecb('0x29')]||function(_0xff29f8,_0x113e21,_0x622f0c,_0x211b11){function _0x51648d(_0x111fb2){return _0x111fb2 instanceof _0x622f0c?_0x111fb2:new _0x622f0c(function(_0x4c2340){_0x4c2340(_0x111fb2);});}return new(_0x622f0c||(_0x622f0c=Promise))(function(_0x5d71b1,_0x557909){function _0x18cfb0(_0x5cd6be){try{_0x42fbed(_0x211b11[a2_0x4ecb('0x1c')](_0x5cd6be));}catch(_0x339872){_0x557909(_0x339872);}}function _0x4b0526(_0x20da7f){try{_0x42fbed(_0x211b11[a2_0x4ecb('0x1f')](_0x20da7f));}catch(_0x2f02c1){_0x557909(_0x2f02c1);}}function _0x42fbed(_0x505ec4){_0x505ec4[a2_0x4ecb('0xa')]?_0x5d71b1(_0x505ec4[a2_0x4ecb('0x21')]):_0x51648d(_0x505ec4[a2_0x4ecb('0x21')])[a2_0x4ecb('0xd')](_0x18cfb0,_0x4b0526);}_0x42fbed((_0x211b11=_0x211b11[a2_0x4ecb('0x8')](_0xff29f8,_0x113e21||[]))[a2_0x4ecb('0x1c')]());});};Object[a2_0x4ecb('0x2d')](exports,a2_0x4ecb('0x10'),{'value':!![]});exports['CloudRemoteCache']=void 0x0;const environment_1=require(a2_0x4ecb('0x1e'));const {output}=require(a2_0x4ecb('0x16'));class CloudRemoteCache{constructor(_0x58b2b9,_0x156e74,_0x596dfd,_0x5d37e0){this[a2_0x4ecb('0xe')]=_0x58b2b9;this[a2_0x4ecb('0x11')]=_0x156e74;this[a2_0x4ecb('0x2f')]=_0x596dfd;this[a2_0x4ecb('0xc')]=_0x5d37e0;this[a2_0x4ecb('0x13')]=[];}[a2_0x4ecb('0x15')](_0x42e82a,_0x3b75fe){var _0x2d57c7;return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a2_0x4ecb('0xe')][a2_0x4ecb('0x3')])return![];const _0x9c1393=yield this[a2_0x4ecb('0x28')](_0x42e82a);if(!_0x9c1393||!_0x9c1393['get']){if(environment_1[a2_0x4ecb('0x18')]){output[a2_0x4ecb('0x14')]({'title':a2_0x4ecb('0x2')+_0x42e82a+'.'});}this['runContext'][a2_0x4ecb('0x1')][_0x42e82a]='cache-miss';return![];}try{yield this[a2_0x4ecb('0xc')][a2_0x4ecb('0x15')](_0x42e82a,_0x9c1393[a2_0x4ecb('0x4')],_0x3b75fe);this[a2_0x4ecb('0x2f')][a2_0x4ecb('0x1')][_0x42e82a]=a2_0x4ecb('0x5');return!![];}catch(_0x1d42d5){const _0x39c2a2=(_0x2d57c7=_0x1d42d5[a2_0x4ecb('0x0')])!==null&&_0x2d57c7!==void 0x0?_0x2d57c7:_0x1d42d5;if(_0x39c2a2[a2_0x4ecb('0x2b')]&&_0x39c2a2['response'][a2_0x4ecb('0x24')]===0x194){if(environment_1[a2_0x4ecb('0x18')]){output['note']({'title':a2_0x4ecb('0x2')+_0x42e82a+a2_0x4ecb('0x7')});}}else{this['messages'][a2_0x4ecb('0x3')]=this[a2_0x4ecb('0xe')][a2_0x4ecb('0xf')](_0x39c2a2,a2_0x4ecb('0x1a'));}this[a2_0x4ecb('0x2f')]['statuses'][_0x42e82a]=a2_0x4ecb('0x19');return![];}});}['store'](_0x27bb34,_0x10788f){return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a2_0x4ecb('0x3')])return![];const _0xa2a3d7=Promise['resolve']()[a2_0x4ecb('0xd')](()=>__awaiter(this,void 0x0,void 0x0,function*(){var _0x489101;const _0x45b06a=yield this[a2_0x4ecb('0x28')](_0x27bb34);if(!_0x45b06a)return![];if(!_0x45b06a[a2_0x4ecb('0x25')]){if(environment_1[a2_0x4ecb('0x18')]){output[a2_0x4ecb('0x14')]({'title':a2_0x4ecb('0x12')+_0x27bb34+'.\x20Read\x20only\x20token\x20is\x20used.'});}return!![];}try{yield this[a2_0x4ecb('0xc')][a2_0x4ecb('0x20')](_0x27bb34,_0x45b06a['put'],_0x10788f);return!![];}catch(_0x42431e){const _0x3877bf=(_0x489101=_0x42431e[a2_0x4ecb('0x0')])!==null&&_0x489101!==void 0x0?_0x489101:_0x42431e;this[a2_0x4ecb('0xe')][a2_0x4ecb('0x3')]=this[a2_0x4ecb('0xe')][a2_0x4ecb('0xf')](_0x3877bf,'storage');return![];}}));this[a2_0x4ecb('0x13')][a2_0x4ecb('0x26')](_0xa2a3d7);return _0xa2a3d7;});}['hashUrls'](_0xb3fbe6){return __awaiter(this,void 0x0,void 0x0,function*(){if(_0xb3fbe6 in this['runContext']['requests']){return(yield this[a2_0x4ecb('0x2f')][a2_0x4ecb('0x23')][_0xb3fbe6])[_0xb3fbe6];}else{const _0x79d8f6=this[a2_0x4ecb('0x2f')][a2_0x4ecb('0x2c')][a2_0x4ecb('0x27')](_0x361e52=>!this[a2_0x4ecb('0x2f')][a2_0x4ecb('0x23')][_0x361e52[a2_0x4ecb('0x1b')]])[a2_0x4ecb('0x6')](_0x2ab371=>_0x2ab371['hash']);if(_0x79d8f6[a2_0x4ecb('0x22')](_0xb3fbe6)===-0x1){_0x79d8f6[a2_0x4ecb('0x26')](_0xb3fbe6);}const _0x468198=this['api'][a2_0x4ecb('0x9')](environment_1[a2_0x4ecb('0x2e')],_0x79d8f6);_0x79d8f6[a2_0x4ecb('0x1d')](_0x31f45e=>{this[a2_0x4ecb('0x2f')][a2_0x4ecb('0x23')][_0x31f45e]=_0x468198;});return(yield _0x468198)[_0xb3fbe6];}});}[a2_0x4ecb('0xb')](){return Promise['all'](this[a2_0x4ecb('0x13')])['then'](_0x16a48b=>_0x16a48b[a2_0x4ecb('0x2a')]((_0x317206,_0x3489c4)=>_0x317206&&_0x3489c4,!![]));}}exports[a2_0x4ecb('0x17')]=CloudRemoteCache;