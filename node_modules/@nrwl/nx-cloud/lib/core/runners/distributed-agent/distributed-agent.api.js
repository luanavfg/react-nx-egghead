const a5_0x1738=['runGroup:\x20','/nx-cloud/executions/tasks','tasks','note','axiosException','dtePollTasks','value','data','DistributedAgentApi','createMetricRecorder','done','response','../../../utilities/axios','../../../utilities/nx-imports','throw','../../../utilities/metric-logger','then','runGroup','__awaiter','RUNNER_FAILURE_PERF_ENTRY','mapRespToPerfEntry','error:\x20','VERBOSE_LOGGING','next','axiosMultipleTries','post','/nx-cloud/executions/complete-run-group','../../../utilities/environment','Completing\x20run\x20group\x20with\x20an\x20error','apply','apiAxiosInstance','recordMetric','agentName'];(function(_0x454c87,_0x1738f){const _0x450b1f=function(_0xe3687f){while(--_0xe3687f){_0x454c87['push'](_0x454c87['shift']());}};_0x450b1f(++_0x1738f);}(a5_0x1738,0x187));const a5_0x450b=function(_0x454c87,_0x1738f){_0x454c87=_0x454c87-0x0;let _0x450b1f=a5_0x1738[_0x454c87];return _0x450b1f;};'use strict';var __awaiter=this&&this[a5_0x450b('0x17')]||function(_0x53d8aa,_0x535621,_0x3c885c,_0x201606){function _0x315225(_0x5f29d5){return _0x5f29d5 instanceof _0x3c885c?_0x5f29d5:new _0x3c885c(function(_0x263b61){_0x263b61(_0x5f29d5);});}return new(_0x3c885c||(_0x3c885c=Promise))(function(_0xbb1019,_0x29031d){function _0x166198(_0x15779c){try{_0x4546d2(_0x201606[a5_0x450b('0x1c')](_0x15779c));}catch(_0x333a23){_0x29031d(_0x333a23);}}function _0x439bfc(_0x436cf4){try{_0x4546d2(_0x201606[a5_0x450b('0x13')](_0x436cf4));}catch(_0x28954c){_0x29031d(_0x28954c);}}function _0x4546d2(_0x4d7045){_0x4d7045[a5_0x450b('0xf')]?_0xbb1019(_0x4d7045[a5_0x450b('0xb')]):_0x315225(_0x4d7045[a5_0x450b('0xb')])[a5_0x450b('0x15')](_0x166198,_0x439bfc);}_0x4546d2((_0x201606=_0x201606[a5_0x450b('0x1')](_0x53d8aa,_0x535621||[]))['next']());});};Object['defineProperty'](exports,'__esModule',{'value':!![]});exports[a5_0x450b('0xd')]=void 0x0;const axios_1=require(a5_0x450b('0x11'));const environment_1=require(a5_0x450b('0x20'));const metric_logger_1=require(a5_0x450b('0x14'));const {output}=require(a5_0x450b('0x12'));class DistributedAgentApi{constructor(_0x43deba,_0x48ea25,_0x302baa){this[a5_0x450b('0x16')]=_0x48ea25;this['agentName']=_0x302baa;this[a5_0x450b('0x2')]=(0x0,axios_1['createApiAxiosInstance'])(_0x43deba);}[a5_0x450b('0x7')](_0x3f6ee2,_0x5b69f0,_0x27eec3){var _0x39dd5c;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x57bd73=(0x0,metric_logger_1[a5_0x450b('0xe')])(a5_0x450b('0xa'));try{const _0x166d3b=yield(0x0,axios_1['axiosMultipleTries'])(()=>this[a5_0x450b('0x2')][a5_0x450b('0x1e')](a5_0x450b('0x6'),{'runGroup':this['runGroup'],'agentName':this['agentName'],'executionId':_0x3f6ee2,'statusCode':_0x5b69f0,'completedTasks':_0x27eec3}));_0x57bd73['recordMetric']((0x0,metric_logger_1[a5_0x450b('0x19')])(_0x166d3b));return _0x166d3b[a5_0x450b('0xc')];}catch(_0x4cd0e6){_0x57bd73[a5_0x450b('0x3')](((_0x39dd5c=_0x4cd0e6===null||_0x4cd0e6===void 0x0?void 0x0:_0x4cd0e6[a5_0x450b('0x9')])===null||_0x39dd5c===void 0x0?void 0x0:_0x39dd5c[a5_0x450b('0x10')])?(0x0,metric_logger_1[a5_0x450b('0x19')])(_0x4cd0e6[a5_0x450b('0x9')]['response']):metric_logger_1[a5_0x450b('0x18')]);throw _0x4cd0e6;}});}['completeRunGroupWithError'](_0x1f6b72){var _0x2c5259;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0x450b('0x1b')]){output[a5_0x450b('0x8')]({'title':a5_0x450b('0x0'),'bodyLines':[a5_0x450b('0x5')+this[a5_0x450b('0x16')],a5_0x450b('0x1a')+_0x1f6b72]});}const _0x589332=(0x0,metric_logger_1[a5_0x450b('0xe')])('completeRunGroup');try{const _0x52e6a7=yield(0x0,axios_1[a5_0x450b('0x1d')])(()=>this['apiAxiosInstance'][a5_0x450b('0x1e')](a5_0x450b('0x1f'),{'runGroup':this['runGroup'],'agentName':this[a5_0x450b('0x4')],'criticalErrorMessage':_0x1f6b72}));if(environment_1[a5_0x450b('0x1b')]){output[a5_0x450b('0x8')]({'title':'Completed\x20run\x20group\x20with\x20an\x20error'});}_0x589332[a5_0x450b('0x3')]((0x0,metric_logger_1[a5_0x450b('0x19')])(_0x52e6a7));}catch(_0x5c73df){_0x589332[a5_0x450b('0x3')](((_0x2c5259=_0x5c73df===null||_0x5c73df===void 0x0?void 0x0:_0x5c73df[a5_0x450b('0x9')])===null||_0x2c5259===void 0x0?void 0x0:_0x2c5259['response'])?(0x0,metric_logger_1[a5_0x450b('0x19')])(_0x5c73df['axiosException'][a5_0x450b('0x10')]):metric_logger_1[a5_0x450b('0x18')]);console['error'](_0x5c73df);}});}}exports['DistributedAgentApi']=DistributedAgentApi;