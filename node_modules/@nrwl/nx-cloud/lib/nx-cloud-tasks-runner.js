const a0_0x14c9=['create','encryptFile','concat','keys','response','Nx\x20Cloud:\x20Cache\x20hit\x20','.tar.gz','code','showUsageWarnings','CIRCLE_PULL_REQUEST','createCommitFile','printResults','pipe','startsWith','find','CIRCLE_PR_NUMBER','.commit','@nrwl/workspace/src/tasks-runner/empty-reporter','\x20--','warn','package.json','printMessages','/nx-cloud/runs/start','Nx\x20Cloud:\x20Cache\x20miss\x20','tasksRunnerV2','gray','statuses','createWriteStream','runUrl','NX_CLOUD_NO_TIMEOUTS','update','hasEncryption','encryptionKey','cacheDirectory','cacheError','storeRequests','tasks','CIRCLECI','/nx-cloud/find-similar-tasks','map','resolve','accessToken','options','Subject','GET','NX_INVOKED_BY_RUNNER','argv','devDependencies','then','findSimilarTasks','startTask','stringify','value','target','data','final','keyword','remote-cache-miss','done','__awaiter','createCipheriv','NX_BRANCH','uniqRunId','NX_CLOUD_AUTH_TOKEN','crypto','terminalOutput','assign','DefaultReporter','Invalid\x20Nx\x20Cloud\x20response:\x20','endTask','bold','overrides','Nx\x20Cloud:\x20Stored\x20','defineProperty','patchReporters','collectTerminalOutput','createDecipheriv','hash','all','apply','\x20were\x20retrieved\x20from\x20Nx\x20Cloud.','writeFileSync','TRAVIS_PULL_REQUEST','createReadStream','uuid','encryption','join','message','node_modules','downloadFile','NX_VERBOSE_LOGGING','aes-256-cbc','no-remote-cache','next','axios','remote-cache-hit','push','ENOTFOUND','readTerminalOutputFile','ECONNREFUSED','@nrwl/nx-cloud','output','path','addNewline','terminalOutputs','PUT','anyErrors','grey','Cannot\x20connect\x20to\x20remote\x20cache\x20(scope:\x20','throw','printCacheHitsMessage','note','messages','apiError','createFileName','canTrackAnalytics','TRAVIS_BUILD_ID','Results\x20for\x20','true','configuration','@nrwl/workspace/src/tasks-runner/default-reporter','project','env','uploadFile','decryptFile','prototype','readFileSync','toString','.\x20Read\x20only\x20token\x20is\x20used.','dirname','__esModule','RunOneReporter','stream','endRun','getTerminalOutput','success','endTime','close','waitForStoreRequestsToComplete','api','machineInfo','EmptyReporter','apiAxiosInstance','VERBOSE_LOGGING','slice','version','scan','hashDetails','ECONNABORTED','...\x0aTRUNCATED',',\x20code:\x20','toISOString','get','\x20projects','application/octet-stream','platform','\x20CLOUD\x20','runContext','post','cpus','filter','colors','CIRCLE_WORKFLOW_ID','tar','Nx\x20Cloud\x20Problems','storage','split','status','length','@nrwl/workspace/src/utils/output','to32bytes','nxCloudVersion','cacheStatus','retrieve','taskId','Could\x20not\x20decrypt\x20the\x20artifact.\x20Please\x20check\x20your\x20encryption\x20key.','startRun','Nx\x20Cloud:\x20Downloading\x20','extractErrorMessage','complete','default','put','@nrwl/workspace/src/tasks-runner/tasks-runner-v2','string','Nx\x20Cloud:\x20Storing\x20','\x20(code:\x20','appRootPath','projectName','urls','reset','Invalid\x20end\x20run\x20response:\x20','CIRCLE_BRANCH','/nx-cloud/runs/end','createFile','machineIdSync'];(function(_0x50108d,_0x14c99f){const _0x4191f1=function(_0x8b1c04){while(--_0x8b1c04){_0x50108d['push'](_0x50108d['shift']());}};_0x4191f1(++_0x14c99f);}(a0_0x14c9,0x1b4));const a0_0x4191=function(_0x50108d,_0x14c99f){_0x50108d=_0x50108d-0x0;let _0x4191f1=a0_0x14c9[_0x50108d];return _0x4191f1;};'use strict';var __awaiter=this&&this[a0_0x4191('0xd')]||function(_0x1515a8,_0x8848d6,_0x54921d,_0x192563){function _0xe5bb42(_0x1b123d){return _0x1b123d instanceof _0x54921d?_0x1b123d:new _0x54921d(function(_0x1c876e){_0x1c876e(_0x1b123d);});}return new(_0x54921d||(_0x54921d=Promise))(function(_0x261110,_0x171aa7){function _0x51ec12(_0x241817){try{_0x40fa8e(_0x192563[a0_0x4191('0x2f')](_0x241817));}catch(_0xdffd94){_0x171aa7(_0xdffd94);}}function _0xde6b5e(_0x5dc77f){try{_0x40fa8e(_0x192563[a0_0x4191('0x3f')](_0x5dc77f));}catch(_0x3449e7){_0x171aa7(_0x3449e7);}}function _0x40fa8e(_0x4a9f70){_0x4a9f70[a0_0x4191('0xc')]?_0x261110(_0x4a9f70[a0_0x4191('0x6')]):_0xe5bb42(_0x4a9f70[a0_0x4191('0x6')])[a0_0x4191('0x2')](_0x51ec12,_0xde6b5e);}_0x40fa8e((_0x192563=_0x192563[a0_0x4191('0x21')](_0x1515a8,_0x8848d6||[]))[a0_0x4191('0x2f')]());});};Object[a0_0x4191('0x1b')](exports,a0_0x4191('0x54'),{'value':!![]});const rxjs_1=require('rxjs');const tasks_runner_v2_1=require(a0_0x4191('0x88'));const output_1=require(a0_0x4191('0x7b'));const app_root_1=require('@nrwl/workspace/src/utils/app-root');const fs=require('fs');const path=require(a0_0x4191('0x38'));const uuid_1=require(a0_0x4191('0x26'));const crypto=require(a0_0x4191('0x12'));const node_machine_id_1=require('node-machine-id');const os=require('os');const path_1=require('path');const axios=require(a0_0x4191('0x30'));const tar=require(a0_0x4191('0x75'));const chalk=require('chalk');const INVOKED_BY_RUNNER=!!process[a0_0x4191('0x4c')][a0_0x4191('0xc2')];const NX_CLOUD_NO_TIMEOUTS=process[a0_0x4191('0x4c')][a0_0x4191('0xb2')]===a0_0x4191('0x48');const UNLIMITED_TIMEOUT=0x98967f;class CloudApi{constructor(_0xc06b22,_0x2de911,_0x3a8212,_0xab9208,_0xa72884){this[a0_0x4191('0x42')]=_0xc06b22;this[a0_0x4191('0x6f')]=_0x2de911;this[a0_0x4191('0x5e')]=_0xa72884;this['apiAxiosInstance']=axios[a0_0x4191('0x95')]({'baseURL':_0x3a8212,'timeout':NX_CLOUD_NO_TIMEOUTS?UNLIMITED_TIMEOUT:0x2710,'headers':{'authorization':_0xab9208}});}[a0_0x4191('0x82')](_0x32ac10){return __awaiter(this,void 0x0,void 0x0,function*(){try{const _0x4a1be2=yield this[a0_0x4191('0x60')][a0_0x4191('0x70')](a0_0x4191('0xab'),{'meta':{'nxCloudVersion':this[a0_0x4191('0x7d')]()},'hashes':_0x32ac10});if(_0x4a1be2['data']&&_0x4a1be2[a0_0x4191('0x8')][a0_0x4191('0x29')]){this['messages'][a0_0x4191('0x29')]=_0x4a1be2['data']['message'];}if(!_0x4a1be2[a0_0x4191('0x8')]||!_0x4a1be2[a0_0x4191('0x8')][a0_0x4191('0x8e')]){this[a0_0x4191('0x42')][a0_0x4191('0x43')]=a0_0x4191('0x16')+JSON['stringify'](_0x4a1be2[a0_0x4191('0x8')]);return{};}return _0x4a1be2['data']['urls'];}catch(_0x2977f3){this[a0_0x4191('0x42')][a0_0x4191('0x43')]=this[a0_0x4191('0x42')][a0_0x4191('0x84')](_0x2977f3,a0_0x4191('0x5d'));return{};}});}['endRun'](_0x7064ea,_0x4b5d8d){return __awaiter(this,void 0x0,void 0x0,function*(){try{if(this['messages'][a0_0x4191('0x43')])return;const _0x50d079=yield this[a0_0x4191('0x60')][a0_0x4191('0x70')](a0_0x4191('0x92'),{'meta':{'nxCloudVersion':this['nxCloudVersion']()},'tasks':_0x4b5d8d,'run':_0x7064ea,'machineInfo':this['machineInfo']});if(_0x50d079[a0_0x4191('0x8')]&&_0x50d079['data']['status']){if(_0x50d079[a0_0x4191('0x8')][a0_0x4191('0x79')]!==a0_0x4191('0x59')){this[a0_0x4191('0x42')][a0_0x4191('0x43')]=a0_0x4191('0x90')+JSON[a0_0x4191('0x5')](_0x50d079[a0_0x4191('0x8')][a0_0x4191('0x29')]);}else{if(_0x50d079[a0_0x4191('0x8')][a0_0x4191('0xb1')]){this['runContext'][a0_0x4191('0xb1')]=_0x50d079['data']['runUrl'];}}}else if(_0x50d079['data']&&typeof _0x50d079['data']===a0_0x4191('0x89')){if(_0x50d079[a0_0x4191('0x8')]!==a0_0x4191('0x59')){this['messages'][a0_0x4191('0x43')]=a0_0x4191('0x90')+JSON[a0_0x4191('0x5')](_0x50d079[a0_0x4191('0x8')]);}}else{this[a0_0x4191('0x42')][a0_0x4191('0x43')]=a0_0x4191('0x90')+JSON[a0_0x4191('0x5')](_0x50d079[a0_0x4191('0x8')]);}}catch(_0x1b7820){this[a0_0x4191('0x42')][a0_0x4191('0x43')]=this['messages']['extractErrorMessage'](_0x1b7820,a0_0x4191('0x5d'));}});}['nxCloudVersion'](){try{const _0x55aeb5=JSON['parse'](fs[a0_0x4191('0x50')](a0_0x4191('0xa9'))[a0_0x4191('0x51')]());return _0x55aeb5[a0_0x4191('0x1')][a0_0x4191('0x36')];}catch(_0x10ff3f){return'unknown';}}[a0_0x4191('0x3')](_0xe7204b){return __awaiter(this,void 0x0,void 0x0,function*(){try{if(this[a0_0x4191('0x42')][a0_0x4191('0x43')])return null;const _0x4486ea=yield this[a0_0x4191('0x60')][a0_0x4191('0x70')](a0_0x4191('0xbb'),{'task':{'target':_0xe7204b[a0_0x4191('0x7')],'projectName':_0xe7204b['projectName'],'hash':_0xe7204b[a0_0x4191('0x1f')],'hashDetails':_0xe7204b[a0_0x4191('0x65')]}});if(!_0x4486ea[a0_0x4191('0x8')]){this[a0_0x4191('0x42')][a0_0x4191('0x43')]=a0_0x4191('0x90')+JSON[a0_0x4191('0x5')](_0x4486ea[a0_0x4191('0x8')]);}return _0x4486ea['data'][a0_0x4191('0x29')];}catch(_0x11fcda){this[a0_0x4191('0x42')][a0_0x4191('0x43')]=this[a0_0x4191('0x42')][a0_0x4191('0x84')](_0x11fcda,a0_0x4191('0x5d'));return null;}});}}class E2EEncryption{constructor(_0x337311){if(_0x337311){this['encryptionKey']=this[a0_0x4191('0x7c')](_0x337311);}}[a0_0x4191('0x7c')](_0xd19838){let _0x56d29d=_0xd19838;while(_0x56d29d[a0_0x4191('0x7a')]<0x20){_0x56d29d+=_0xd19838;}return Buffer['from'](_0x56d29d)[a0_0x4191('0x62')](0x0,0x20);}[a0_0x4191('0xb4')](){return!!this[a0_0x4191('0xb5')];}[a0_0x4191('0x96')](_0x33a9a0){const _0x7b3cd1=crypto['randomBytes'](0x10);const _0x3e3e1d=crypto[a0_0x4191('0xe')](a0_0x4191('0x2d'),this[a0_0x4191('0xb5')],_0x7b3cd1);const _0x26c79e=fs[a0_0x4191('0x50')](_0x33a9a0);const _0x4350ab=_0x3e3e1d[a0_0x4191('0xb3')](_0x26c79e);const _0x53ee87=Buffer[a0_0x4191('0x97')]([_0x7b3cd1,_0x4350ab,_0x3e3e1d['final']()]);fs[a0_0x4191('0x23')](_0x33a9a0,_0x53ee87);}[a0_0x4191('0x4e')](_0x19dafc){const _0x2465f3=fs[a0_0x4191('0x50')](_0x19dafc);try{const _0x1557ab=crypto[a0_0x4191('0x1e')](a0_0x4191('0x2d'),this[a0_0x4191('0xb5')],_0x2465f3[a0_0x4191('0x62')](0x0,0x10));const _0x151fd6=_0x2465f3[a0_0x4191('0x62')](0x10);const _0x323b42=_0x1557ab[a0_0x4191('0xb3')](_0x151fd6);const _0x361174=Buffer['concat']([_0x323b42,_0x1557ab[a0_0x4191('0x9')]()]);fs[a0_0x4191('0x23')](_0x19dafc,_0x361174);}catch(_0x4cb912){throw new Error(a0_0x4191('0x81'));}}}class CloudRemoteCache{constructor(_0x565cee,_0x5dd0b1,_0x7dbe86,_0x2ef630){this[a0_0x4191('0x42')]=_0x565cee;this['urls']=_0x5dd0b1;this['runContext']=_0x7dbe86;this[a0_0x4191('0x27')]=_0x2ef630;this['storeRequests']=[];}[a0_0x4191('0x7f')](_0xb7c653,_0x48a4e6){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a0_0x4191('0x42')][a0_0x4191('0xb7')])return![];try{const _0x10e0cb=(yield this[a0_0x4191('0x8e')])[_0xb7c653];if(!_0x10e0cb||!_0x10e0cb[a0_0x4191('0x6a')]){this[a0_0x4191('0x6f')][a0_0x4191('0xaf')][_0xb7c653]=a0_0x4191('0xb');return![];}if(CloudRemoteCache[a0_0x4191('0x61')]){output_1[a0_0x4191('0x37')][a0_0x4191('0x41')]({'title':a0_0x4191('0x83')+_0xb7c653});}const _0x53af7b=this[a0_0x4191('0x44')](_0xb7c653,_0x48a4e6);yield this[a0_0x4191('0x2b')](_0x10e0cb[a0_0x4191('0x6a')],_0x53af7b);this['createCommitFile'](_0xb7c653,_0x48a4e6);if(CloudRemoteCache[a0_0x4191('0x61')]){output_1[a0_0x4191('0x37')][a0_0x4191('0x41')]({'title':a0_0x4191('0x9a')+_0xb7c653});}this[a0_0x4191('0x6f')][a0_0x4191('0xaf')][_0xb7c653]=a0_0x4191('0x31');return!![];}catch(_0xec3397){if(_0xec3397[a0_0x4191('0x99')]&&_0xec3397[a0_0x4191('0x99')][a0_0x4191('0x79')]===0x194){if(CloudRemoteCache[a0_0x4191('0x61')]){output_1[a0_0x4191('0x37')][a0_0x4191('0x41')]({'title':a0_0x4191('0xac')+_0xb7c653});}}else{this[a0_0x4191('0x42')][a0_0x4191('0xb7')]=this[a0_0x4191('0x42')][a0_0x4191('0x84')](_0xec3397,a0_0x4191('0x77'));}this['runContext'][a0_0x4191('0xaf')][_0xb7c653]=a0_0x4191('0xb');return![];}});}['store'](_0x6c2139,_0x213e64){return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a0_0x4191('0xb7')])return![];const _0x2edce8=Promise[a0_0x4191('0xbd')]()[a0_0x4191('0x2')](()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x583dc0=(yield this['urls'])[_0x6c2139];if(!_0x583dc0)return![];if(!_0x583dc0['put']){if(CloudRemoteCache[a0_0x4191('0x61')]){output_1['output'][a0_0x4191('0x41')]({'title':'Nx\x20Cloud:\x20Skipping\x20storing\x20'+_0x6c2139+a0_0x4191('0x52')});}return!![];}try{if(CloudRemoteCache[a0_0x4191('0x61')]){output_1[a0_0x4191('0x37')]['note']({'title':a0_0x4191('0x8a')+_0x6c2139});}const _0x5f4833=yield this[a0_0x4191('0x93')](_0x6c2139,_0x213e64);yield this[a0_0x4191('0x4d')](_0x583dc0[a0_0x4191('0x87')],_0x5f4833);if(CloudRemoteCache[a0_0x4191('0x61')]){output_1[a0_0x4191('0x37')][a0_0x4191('0x41')]({'title':a0_0x4191('0x1a')+_0x6c2139});}return!![];}catch(_0x3370c0){this['messages']['cacheError']=this[a0_0x4191('0x42')]['extractErrorMessage'](_0x3370c0,'storage');return![];}}));this[a0_0x4191('0xb8')][a0_0x4191('0x32')](_0x2edce8);return _0x2edce8;});}[a0_0x4191('0x5c')](){return Promise[a0_0x4191('0x20')](this[a0_0x4191('0xb8')]);}[a0_0x4191('0x44')](_0x4b90aa,_0x4be4a6){return path['join'](_0x4be4a6,_0x4b90aa+a0_0x4191('0x9b'));}[a0_0x4191('0x2b')](_0x317a6b,_0x4a4aff){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3dc09e=yield axios(_0x317a6b,{'method':a0_0x4191('0xc1'),'responseType':a0_0x4191('0x56'),'maxContentLength':0x3e8*0x3e8*0xc8,'timeout':NX_CLOUD_NO_TIMEOUTS?UNLIMITED_TIMEOUT:0x7530});if(this[a0_0x4191('0x27')][a0_0x4191('0xb4')]()){yield new Promise(_0x7f16ff=>{const _0x6b0a43=_0x3dc09e[a0_0x4191('0x8')][a0_0x4191('0xa1')](fs[a0_0x4191('0xb0')](_0x4a4aff));_0x6b0a43['on'](a0_0x4191('0x5b'),()=>_0x7f16ff());});this[a0_0x4191('0x27')]['decryptFile'](_0x4a4aff);const _0x2d1084=fs[a0_0x4191('0x25')](_0x4a4aff)['pipe'](tar['x']({'cwd':path[a0_0x4191('0x53')](_0x4a4aff)}));return new Promise(_0x2b9115=>{_0x2d1084['on'](a0_0x4191('0x5b'),()=>{_0x2b9115();});});}else{const _0x438d11=_0x3dc09e[a0_0x4191('0x8')][a0_0x4191('0xa1')](tar['x']({'cwd':path[a0_0x4191('0x53')](_0x4a4aff)}));return new Promise(_0x2a863=>{_0x438d11['on']('close',()=>{_0x2a863();});});}});}[a0_0x4191('0x9f')](_0x11dbab,_0x5afd77){fs['writeFileSync'](path[a0_0x4191('0x28')](_0x5afd77,_0x11dbab+a0_0x4191('0xa5')),'true');}['createFile'](_0x219222,_0x31ea9e){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x59d3ae=this[a0_0x4191('0x44')](_0x219222,_0x31ea9e);yield tar['c']({'gzip':!![],'file':_0x59d3ae,'cwd':_0x31ea9e},[_0x219222]);if(this['encryption'][a0_0x4191('0xb4')]()){this[a0_0x4191('0x27')][a0_0x4191('0x96')](_0x59d3ae);}return _0x59d3ae;});}[a0_0x4191('0x4d')](_0x16f3fe,_0x1954c3){return __awaiter(this,void 0x0,void 0x0,function*(){yield axios(_0x16f3fe,{'method':a0_0x4191('0x3b'),'data':fs[a0_0x4191('0x50')](_0x1954c3),'headers':{'Content-Type':a0_0x4191('0x6c')},'maxContentLength':0x3e8*0x3e8*0xc8});});}}CloudRemoteCache[a0_0x4191('0x61')]=process['env'][a0_0x4191('0x2c')];class TaskRunnerLifeCycle{constructor(_0x765af6,_0x44d6fd,_0x508235){this['runContext']=_0x765af6;this[a0_0x4191('0xb6')]=_0x44d6fd;this['collectTerminalOutput']=_0x508235;this['tasks']=[];this[a0_0x4191('0x10')]=uuid_1['v4']();}[a0_0x4191('0x4')](_0x268a28){const _0xb6a15d=Object[a0_0x4191('0x14')]({},_0x268a28[a0_0x4191('0x19')]||{});if(_0x268a28[a0_0x4191('0x7')][a0_0x4191('0x49')]){_0xb6a15d[a0_0x4191('0x49')]=_0x268a28[a0_0x4191('0x7')][a0_0x4191('0x49')];}const _0x383fdd=Object[a0_0x4191('0x98')](_0xb6a15d)['reduce']((_0x58c04a,_0x1ebe31)=>_0x58c04a+a0_0x4191('0xa7')+_0x1ebe31+'='+_0xb6a15d[_0x1ebe31],'');this[a0_0x4191('0xb9')][a0_0x4191('0x32')]({'taskId':_0x268a28['id']+'-'+this[a0_0x4191('0x10')],'startTime':new Date()[a0_0x4191('0x69')](),'target':_0x268a28[a0_0x4191('0x7')]['target'],'projectName':_0x268a28['target'][a0_0x4191('0x4b')],'hash':_0x268a28[a0_0x4191('0x1f')],'hashDetails':_0x268a28[a0_0x4191('0x65')],'params':_0x383fdd});}[a0_0x4191('0x17')](_0x4fc32b,_0x5f5b88){const _0xe451e1=this[a0_0x4191('0xb9')][a0_0x4191('0xa3')](_0x554a45=>_0x554a45[a0_0x4191('0x80')]===_0x4fc32b['id']+'-'+this[a0_0x4191('0x10')]);if(!_0xe451e1){throw new Error('Cannot\x20find\x20task\x20'+_0x4fc32b['id']);}_0xe451e1[a0_0x4191('0x5a')]=new Date()['toISOString']();_0xe451e1[a0_0x4191('0x79')]=_0x5f5b88;_0xe451e1[a0_0x4191('0x7e')]=this[a0_0x4191('0x6f')][a0_0x4191('0xaf')][_0x4fc32b['hash']]||a0_0x4191('0x2e');if(this[a0_0x4191('0x1d')]&&!INVOKED_BY_RUNNER){_0xe451e1['terminalOutput']=this[a0_0x4191('0x58')](_0x4fc32b);}}[a0_0x4191('0x58')](_0x26a4f0){let _0x1726ae;if(this[a0_0x4191('0xb6')]){if(this[a0_0x4191('0xb6')][a0_0x4191('0xa2')]('./')){_0x1726ae=path_1[a0_0x4191('0x28')](app_root_1[a0_0x4191('0x8c')],this[a0_0x4191('0xb6')]);}else{_0x1726ae=this[a0_0x4191('0xb6')];}}else{_0x1726ae=path_1[a0_0x4191('0x28')](app_root_1[a0_0x4191('0x8c')],a0_0x4191('0x2a'),'.cache','nx');}try{const _0x5a72bd=this[a0_0x4191('0x34')](_0x1726ae,_0x26a4f0[a0_0x4191('0x1f')]);return _0x5a72bd[a0_0x4191('0x7a')]>0xc350?_0x5a72bd[a0_0x4191('0x62')](0x0,0xc350)+a0_0x4191('0x67'):_0x5a72bd;}catch(_0x30e316){return'';}}['readTerminalOutputFile'](_0x496d62,_0x131ffa){try{return fs['readFileSync'](path['join'](_0x496d62,a0_0x4191('0x3a'),_0x131ffa))[a0_0x4191('0x51')]();}catch(_0xe537f0){try{return fs[a0_0x4191('0x50')](path[a0_0x4191('0x28')](_0x496d62,_0x131ffa,a0_0x4191('0x13')))[a0_0x4191('0x51')]();}catch(_0x1b29fe){return'';}}}}class MessageReporter{constructor(_0x548a57){this[a0_0x4191('0xbf')]=_0x548a57;this[a0_0x4191('0xb7')]=null;this[a0_0x4191('0x43')]=null;this[a0_0x4191('0x29')]=null;}get[a0_0x4191('0x3c')](){return this['cacheError']||this[a0_0x4191('0x43')];}[a0_0x4191('0xaa')](){if(this[a0_0x4191('0x3c')]){const _0x20f407=[];if(this['cacheError']){_0x20f407['push']('-\x20'+this[a0_0x4191('0xb7')]);}if(this[a0_0x4191('0x43')]&&this[a0_0x4191('0x43')]!==this[a0_0x4191('0xb7')]){_0x20f407[a0_0x4191('0x32')]('-\x20'+this[a0_0x4191('0x43')]);}output_1['output'][a0_0x4191('0xa8')]({'title':a0_0x4191('0x76'),'bodyLines':_0x20f407});}if(this[a0_0x4191('0x29')]){printMessage(this[a0_0x4191('0x29')]);}}[a0_0x4191('0x84')](_0x530167,_0x46eeb){if(_0x530167[a0_0x4191('0x9c')]===a0_0x4191('0x66')){return'Cannot\x20connect\x20to\x20remote\x20cache\x20(scope:\x20'+_0x46eeb+',\x20code:\x20'+_0x530167['code']+').\x20Try\x20invoking\x20the\x20command\x20with\x20the\x20NX_CLOUD_NO_TIMEOUTS\x20env\x20variable\x20set\x20to\x20\x27true\x27.';}else if(_0x530167[a0_0x4191('0x9c')]===a0_0x4191('0x35')||_0x530167[a0_0x4191('0x9c')]==='EAI_AGAIN'||_0x530167[a0_0x4191('0x9c')]===a0_0x4191('0x33')||_0x530167[a0_0x4191('0x9c')]==='EPROTO'){return a0_0x4191('0x3e')+_0x46eeb+a0_0x4191('0x68')+_0x530167[a0_0x4191('0x9c')]+').';}else if(_0x530167['response']&&_0x530167[a0_0x4191('0x99')][a0_0x4191('0x79')]===0x191){return _0x530167[a0_0x4191('0x99')]['data'][a0_0x4191('0x29')]?_0x530167[a0_0x4191('0x99')]['data'][a0_0x4191('0x29')]:_0x530167['response'][a0_0x4191('0x8')];}else if(_0x530167['response']&&_0x530167[a0_0x4191('0x99')][a0_0x4191('0x79')]===0x192){if(this[a0_0x4191('0xbf')][a0_0x4191('0x9d')]===![])return null;return _0x530167[a0_0x4191('0x99')][a0_0x4191('0x8')]['message']?_0x530167['response'][a0_0x4191('0x8')][a0_0x4191('0x29')]:_0x530167['response'][a0_0x4191('0x8')];}else{let _0x261113='';if(_0x530167[a0_0x4191('0x99')]&&_0x530167[a0_0x4191('0x99')]['data']&&_0x530167[a0_0x4191('0x99')]['data'][a0_0x4191('0x29')]){_0x261113='.\x20'+_0x530167['response'][a0_0x4191('0x8')][a0_0x4191('0x29')];}else if(_0x530167[a0_0x4191('0x99')]&&_0x530167['response'][a0_0x4191('0x8')]){_0x261113='.\x20'+_0x530167[a0_0x4191('0x99')][a0_0x4191('0x8')];}return''+_0x530167[a0_0x4191('0x29')]+_0x261113+a0_0x4191('0x8b')+_0x530167[a0_0x4191('0x9c')]+')';}}}class EndOfRunMessage{constructor(_0x59bc17,_0x12fe01){this['messages']=_0x59bc17;this[a0_0x4191('0x6f')]=_0x12fe01;this[a0_0x4191('0xb9')]=[];this[a0_0x4191('0x1c')]();}['patchReporters'](){try{const _0x43bd91=require(a0_0x4191('0x4a'));const _0x57efbe=_0x43bd91[a0_0x4191('0x15')][a0_0x4191('0x4f')][a0_0x4191('0xa0')];const _0x3b5cc5=this;_0x43bd91[a0_0x4191('0x15')][a0_0x4191('0x4f')][a0_0x4191('0xa0')]=function(){_0x57efbe['apply'](this,arguments);_0x3b5cc5[a0_0x4191('0x40')]();};}catch(_0x3aa482){}try{const _0x48b5ff=require('@nrwl/workspace/src/tasks-runner/run-one-reporter');const _0x105f83=_0x48b5ff[a0_0x4191('0x55')][a0_0x4191('0x4f')][a0_0x4191('0xa0')];const _0x31a9bd=this;_0x48b5ff[a0_0x4191('0x55')][a0_0x4191('0x4f')][a0_0x4191('0xa0')]=function(){_0x105f83[a0_0x4191('0x21')](this,arguments);_0x31a9bd[a0_0x4191('0x40')]();};}catch(_0x434abf){}try{const _0x3f116c=require(a0_0x4191('0xa6'));const _0x5b4d6e=_0x3f116c['EmptyReporter'][a0_0x4191('0x4f')][a0_0x4191('0xa0')];const _0x34429b=this;_0x3f116c[a0_0x4191('0x5f')][a0_0x4191('0x4f')]['printResults']=function(){_0x5b4d6e[a0_0x4191('0x21')](this,arguments);_0x34429b['printCacheHitsMessage']();};}catch(_0x9b25c8){}}['printCacheHitsMessage'](){if(this[a0_0x4191('0x42')][a0_0x4191('0x3c')])return;if(INVOKED_BY_RUNNER)return;const _0x22110c=this['tasks'][a0_0x4191('0x72')](_0x221f51=>this[a0_0x4191('0x6f')]['statuses'][_0x221f51[a0_0x4191('0x1f')]]==='remote-cache-hit')[a0_0x4191('0xbc')](_0x4c924f=>_0x4c924f[a0_0x4191('0x8d')]);if(_0x22110c['length']===0x0&&!this[a0_0x4191('0x6f')][a0_0x4191('0xb1')]){return;}const _0x549d7f=_0x22110c[a0_0x4191('0x7a')]===0x1?_0x22110c[0x0]:_0x22110c[a0_0x4191('0x7a')]+a0_0x4191('0x6b');const _0x4390ef=[];if(_0x22110c[a0_0x4191('0x7a')]>0x0){_0x4390ef[a0_0x4191('0x32')](a0_0x4191('0x47')+_0x549d7f+a0_0x4191('0x22'));}if(this['runContext'][a0_0x4191('0xb1')]){_0x4390ef['push']('See\x20run\x20details\x20at\x20'+this[a0_0x4191('0x6f')][a0_0x4191('0xb1')]);}if(_0x4390ef[a0_0x4191('0x7a')]>0x0){printMessage(_0x4390ef[a0_0x4191('0x28')]('\x20'));}}}function printMessage(_0xceea85){const _0x4d25d3=output_1['output'][a0_0x4191('0x73')][a0_0x4191('0xae')](_0xceea85);output_1[a0_0x4191('0x37')][a0_0x4191('0x39')]();output_1['output']['writeOutputTitle']({'label':chalk[a0_0x4191('0x8f')]['inverse'][a0_0x4191('0x18')][a0_0x4191('0xa')](a0_0x4191('0x3d'))(a0_0x4191('0x6e')),'title':chalk[a0_0x4191('0xa')]('grey')(_0x4d25d3)});output_1[a0_0x4191('0x37')][a0_0x4191('0x39')]();}function getMachineInfo(_0x25ff38){let _0x2788bc='';if(_0x25ff38[a0_0x4191('0x45')]){try{_0x2788bc=node_machine_id_1[a0_0x4191('0x94')]();}catch(_0x4a459d){}}return{'machineId':_0x2788bc,'platform':os[a0_0x4191('0x6d')](),'version':os['version']?os[a0_0x4191('0x63')]():'','cpuCores':os[a0_0x4191('0x71')]()['length']};}function createApi(_0x1b18c0,_0x1019c8,_0x1cde58){const _0x2c9ac7=_0x1019c8['url']||'https://api.nrwl.io';const _0x2b52cf=getMachineInfo(_0x1019c8);if(process[a0_0x4191('0x4c')][a0_0x4191('0x11')]){return new CloudApi(_0x1b18c0,_0x1cde58,_0x2c9ac7,process[a0_0x4191('0x4c')][a0_0x4191('0x11')],_0x2b52cf);}else{return new CloudApi(_0x1b18c0,_0x1cde58,_0x2c9ac7,_0x1019c8[a0_0x4191('0xbe')],_0x2b52cf);}}function parseCommand(){return'nx\x20'+process[a0_0x4191('0x0')][a0_0x4191('0x62')](0x2)['join']('\x20');}function runGroup(){if(process[a0_0x4191('0x4c')]['NX_RUN_GROUP']!==undefined){return process[a0_0x4191('0x4c')]['NX_RUN_GROUP'];}if(process[a0_0x4191('0x4c')][a0_0x4191('0xba')]!==undefined){return process[a0_0x4191('0x4c')][a0_0x4191('0x74')];}if(process['env'][a0_0x4191('0x46')]!==undefined){return process[a0_0x4191('0x4c')][a0_0x4191('0x46')];}return undefined;}function branch(){if(process[a0_0x4191('0x4c')][a0_0x4191('0xf')]!==undefined){return process[a0_0x4191('0x4c')]['NX_BRANCH'];}if(process[a0_0x4191('0x4c')][a0_0x4191('0xba')]!==undefined){if(process[a0_0x4191('0x4c')][a0_0x4191('0xa4')]!==undefined){return process[a0_0x4191('0x4c')][a0_0x4191('0xa4')];}else if(process[a0_0x4191('0x4c')]['CIRCLE_PULL_REQUEST']!==undefined){const _0x14afc2=process[a0_0x4191('0x4c')][a0_0x4191('0x9e')][a0_0x4191('0x78')]('/');return _0x14afc2[_0x14afc2[a0_0x4191('0x7a')]-0x1];}else if(process[a0_0x4191('0x4c')][a0_0x4191('0x91')]!==undefined){return process[a0_0x4191('0x4c')][a0_0x4191('0x91')];}}if(process['env'][a0_0x4191('0x24')]!==undefined){return process[a0_0x4191('0x4c')][a0_0x4191('0x24')];}return undefined;}const nxCloudTasksRunner=(_0x3a98d7,_0x481a08,_0x4c5203)=>{if(process[a0_0x4191('0x4c')][a0_0x4191('0x11')]||_0x481a08[a0_0x4191('0xbe')]){const _0x2b8b85={'statuses':{}};const _0xa37967=new MessageReporter(_0x481a08);const _0x5d0038=createApi(_0xa37967,_0x481a08,_0x2b8b85);const _0x2797ab=new EndOfRunMessage(_0xa37967,_0x2b8b85);const _0x42add0=_0x5d0038[a0_0x4191('0x82')](_0x3a98d7[a0_0x4191('0xbc')](_0x5dcac8=>_0x5dcac8['hash']));const _0x5279f2=new Date()[a0_0x4191('0x69')]();const _0x5442c7=new TaskRunnerLifeCycle(_0x2b8b85,_0x481a08[a0_0x4191('0xb6')],_0x481a08[a0_0x4191('0x64')]===undefined?!![]:_0x481a08['scan']);const _0x1ff945=new E2EEncryption(process['env']['NX_CLOUD_ENCRYPTION_KEY']||_0x481a08[a0_0x4191('0xb5')]);const _0x21c394=new CloudRemoteCache(_0xa37967,_0x42add0,_0x2b8b85,_0x1ff945);const _0x15ae31=tasks_runner_v2_1[a0_0x4191('0xad')](_0x3a98d7,Object[a0_0x4191('0x14')](Object[a0_0x4191('0x14')]({},_0x481a08),{'remoteCache':_0x21c394,'lifeCycle':_0x5442c7}),_0x4c5203);const _0x4736c4=new rxjs_1[(a0_0x4191('0xc0'))]();_0x15ae31['subscribe']({'next':_0x2fb672=>_0x4736c4[a0_0x4191('0x2f')](_0x2fb672),'error':_0x4da933=>_0x4736c4['error'](_0x4da933),'complete':()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x32e5ea=new Date()[a0_0x4191('0x69')]();yield Promise[a0_0x4191('0x20')]([_0x21c394['waitForStoreRequestsToComplete'](),_0x5d0038[a0_0x4191('0x57')]({'command':parseCommand(),'startTime':_0x5279f2,'endTime':_0x32e5ea,'scan':_0x481a08[a0_0x4191('0x64')]===undefined?!![]:_0x481a08[a0_0x4191('0x64')],'inner':INVOKED_BY_RUNNER,'branch':branch(),'runGroup':runGroup()},_0x5442c7[a0_0x4191('0xb9')])]);_0xa37967['printMessages']();_0x2797ab[a0_0x4191('0xb9')]=_0x5442c7[a0_0x4191('0xb9')];_0x4736c4[a0_0x4191('0x85')]();})});return _0x4736c4;}else{return tasks_runner_v2_1[a0_0x4191('0xad')](_0x3a98d7,_0x481a08,_0x4c5203);}};exports[a0_0x4191('0x86')]=nxCloudTasksRunner;